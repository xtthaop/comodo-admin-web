| 页面     | 模块     | 功能项     | 描述                             | 进度   | 备注           |
|----------|---------|-----------|----------------------------------|-------|---------------|
| **登录页** | **登录表单** | **输入用户名密码** | <ol><li>页面加载成功后用户名输入框为聚焦状态；<li>用户名不能为空且最长输入 64 个字符；<li>用户名输入框右侧显示清除按钮，点击可以清除用户名输入框中的内容；<li>密码不能为空且最长输入 20 个字符；<li>在密码输入框中输入大写字母时提示已开启大写；<li>密码输入框右侧显示清除和显示密码按钮，点击可以完成对应功能；<li>用户名密码输入完成后点击登录按钮触发拼图验证； | ***100%*** |  |
| **登录页** | **登录表单** | **拼图验证码** | <ol><li>用户名密码输入完成后点击登录按钮弹出拼图验证码；<li>拼图验证码包括随机请求的一张图像和从图像中抠出的一块拼图；<li>抠图时选择的位置在图像的右半部分，抠出后原图像位置显示阴影；<li>被抠出的拼图放在图像最左边，保证一定的移动空间；<li>请求图像和抠出拼图的过程中显示加载中状态；<li>请求失败时显示加载失败；<li>加载成功后在拼图验证码下方显示滑轨和滑块；<li>点击左上角换一张按钮可更换拼图验证码；<li>点击右上角关闭按钮可关闭拼图验证码；<li>鼠标拖动滑块可移动拼图，松开鼠标结束拖动；<li>结束拖动后将滑块移动的距离与实际拼图位置做对比确定是否验证成功；<li>验证失败时提示拼图验证失败并重新请求拼图验证码；<li>验证成功后验证用户名密码；<li>用户名错误或者密码错误则显示用户名与密码不匹配并关闭拼图验证码弹窗，旧已验证正确的验证码要保证失效；<li>验证拼图或者用户名密码的过程中不可操作滑块、更换验证码，关闭拼图验证弹窗再打开要保持验证中的验证码状态；<li>验证码及用户名密码验证成功后滑轨显示拼接成功即登录成功； | ***90%*** | 14后半部分验证码失效未完成，其他已完成 |
| **登录页** | **其他** | **其他** | <ol><li>未登录成功时，访问不需登录即可访问的页面可直接进入，否则跳转到登录页面，并设置登录页面的 query 为将要访问页面的 query，在 query 中添加 redirect 参数，设置其值为将要访问的页面地址；<li>登录成功后如果 query 中存在 redirect 参数则跳转到 redirect 指定的页面并将其他同在 query 中的参数绑定给这个页面，这意味着 query 中的redirect参数名为保留名，应避免重名，一旦发生重名，页面地址会覆盖已设置的参数值，访问对应页面时会丢失一个参数；<li>登录成功后可以保持登录状态，在浏览器地址栏输入登录页面的地址后会重新回到首页；<li>登录状态最长可以保持 7 天，在 7 天内没有任何操作则会强制重新登录，在临近到期的最后 30 分钟内发起操作会重新延长登录状态到 7 天；<li>首次登录成功后会请求用户信息并缓存到 vuex 中，用户信息包括用户名、用户角色、用户页面及按钮权限标识，拥有admin角色的用户页面及按钮权限标识为[“\*:\*:\*”]；<li>登录成功后只要缓存的用户信息中角色存在且不为空则切换页面不会重新请求用户信息，但是每次刷新页面会重新请求用户信息；<li>用户信息请求成功则继续请求用户菜单路由，拥有 admin 角色的用户拥有所有菜单路由，其他角色用户根据设置的权限获取菜单路由，并按设置的排序正确返回，同时获取系统全部的菜单路由路径，目的是为了用户在访问未拥有的页面时提示 403 无权限；<li>将菜单路由转换成渲染菜单及注册路由需要的格式并将数据缓存到 vuex，将系统全部的路由路径转换为路径正则缓存到 vuex；<li>用户信息与用户菜单路由请求过程中，页面顶部显示进度条；<li>用户信息或者用户菜单路由请求失败时，控制台打印错误信息，清除token，清除用户角色，回到登录页； | ***99%*** | 7排序不正确未完成，其他完成 |
| **系统管理** | **用户管理** | **新增用户** | <ol><li>点击新增按钮可显示新增用户弹窗；<li>填写用户名，必填，长度最长为 64 个字符，不可与已有用户重复；<li>填写密码，必填，长度在 6 到 20 位，加密传输；<li>填写昵称，必填，长度最长为 64 个字符；<li>填写手机号码，必填，校验正确的手机号格式；<li>填写邮箱，非必填，校验正确的邮箱格式；<li>选择用户性别，非必填；<li>设置用户状态，必填，正常或者停用，停用之后禁止登录系统；<li>选择角色，必填；<li>填写备注，非必填，长度最长为 255 个字符；<li>点击取消按钮关闭弹窗；<li>点击确定按钮发起新增用户请求，请求中显示加载中效果，新增成功关闭弹窗刷新用户列表； | ***100%*** |  |
| **系统管理** | **用户管理** | **用户列表** | <ol><li>用户列表可正常显示ID、用户名、昵称、手机号、状态、创建时间；<li>用户列表分页功能正常；<li>点击搜索按钮可根据可根据账户名、手机号码、用户状态查询用户列表；<li>点击重置可重置所有条件为空查询用户列表；<li>点击搜索和重置列表要回到第一页；| ***100%*** |  |
| **系统管理** | **用户管理** | **编辑用户** | <ol><li>点击用户列表每一行的编辑按钮可显示编辑用户弹窗，弹窗可正确回显用户信息；<li>填写用户名，必填，长度最长为 64 个字符，不可与其他用户重复；<li>填写昵称，必填，长度最长为 64 个字符；<li>填写手机号码，必填，校验正确的手机号格式；<li>填写邮箱，非必填，校验正确的邮箱格式；<li>选择用户性别，非必填；<li>设置用户状态，必填，正常或者停用，停用之后禁止登录系统；<li>选择角色，必填；<li>填写备注，非必填，长度最长为 255 个字符。<li>点击取消按钮关闭弹窗；<li>点击确定按钮发起编辑用户请求，请求中显示加载中效果，编辑成功关闭弹窗刷新用户列表；<li>默认超级管理员用户 admin 禁止修改用户名和其角色 | ***100%*** |  |
| **系统管理** | **用户管理** | **删除用户** | <ol><li>点击用户列表每一行的删除按钮可显示删除用户二次确认弹窗；<li>点击取消关闭弹窗；<li>点击确认发起删除请求，删除成功关闭弹窗，刷新用户列表；<li>默认超级管理员用户 admin 禁止被删除； | ***100%*** |  |
| **系统管理** | **用户管理** | **重置用户密码** | <ol><li>点击用户列表每一行的重置密码按钮可显示重置密码弹窗；<li>填写新密码，必填，长度在 6 到 20 位，加密传输；<li>点击取消关闭弹窗；<li>点击确认发起重置密码请求，重置成功关闭弹窗；<li>默认超级管理员用户 admin 禁止重置密码； | ***100%*** |  |
